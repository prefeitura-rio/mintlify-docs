---
title: "Chatbot"
description: "Modelo final que consolida todas as interações de chatbot (ativas e receptivas), enriquecendo com dados de contato, estatísticas de sessão e classificações de erro."
icon: "database"
---

Modelo final que consolida todas as interações de chatbot (ativas e receptivas), enriquecendo com dados de contato, estatísticas de sessão e classificações de erro.

## Informações

- **ID da tabela**: [rj-crm-registry.rmi_conversas.chatbot](https://console.cloud.google.com/bigquery?p=rj-crm-registry&d=rmi_conversas&t=chatbot&page=table)
- **Projeto**: rj-crm-registry
- **Dataset**: `rmi_conversas`
- **Tabela**: `chatbot`


## Configuração

- **Materialização**: incremental
- **Alias**: chatbot
- **Particionamento**: `"field": "data_particao", "data_type": "date"`


## Consultas Comuns

```sql
-- Consulta básica
SELECT *
FROM `rj-crm-registry.rmi_conversas.chatbot`
LIMIT 100;
```


## Colunas (21 total)


| Coluna | Tipo | Descrição |
|--------|------|-----------|
| `id_interacao` | `unknown` | Chave primária única da interação, gerada como um hash MD5. |
| `id_sessao` | `unknown` | ID da sessão de conversa (reply ID do Wetalkie). Pode ser nulo se a interação foi um disparo que não gerou conversa. |
| `id_externo` | `unknown` | ID externo associado ao contato, vindo da URA. |
| `protocolo` | `unknown` | Número de protocolo associado ao atendimento receptivo. |
| `inicio_datahora` | `unknown` | Data e hora de início da interação. Para disparos, é a criação do envio; para receptivo, é o início da URA. Fuso horário America/Sao_Paulo. |
| `fim_datahora` | `unknown` | Data e hora do último evento registrado na interação. Fuso horário America/Sao_Paulo. |
| `contato` | `unknown` | Estrutura com informações consolidadas do contato. |
| `hsm` | `unknown` | Estrutura com informações do disparo de HSM (mensagem ativa). |
| `erro_fluxo` | `unknown` | Estrutura com informações sobre erros identificados no fluxo da conversa. |
| `mensagens` | `unknown` | Array com o histórico de mensagens da conversa (quando aplicável). |
| `busca` | `unknown` | Estrutura com informações sobre a funcionalidade de busca dentro do chatbot. |
| `ura` | `unknown` | Estrutura com informações da URA (atendimento receptivo). |
| `estatisticas` | `unknown` | Estrutura com métricas e estatísticas calculadas da sessão. |
| `operador` | `unknown` | Nome do operador que atendeu (se aplicável). |
| `tabulacao` | `unknown` | Estrutura com informações de tabulação do atendimento. |
| `foi_entregue` | `unknown` | Indicador (true/false) se a mensagem HSM foi entregue. |
| `foi_lida` | `unknown` | Indicador (true/false) se a mensagem HSM foi lida. |
| `foi_respondida` | `unknown` | Indicador (true/false) se a mensagem HSM foi respondida. |
| `gerou_conversa` | `unknown` | Indicador (true/false) se a interação gerou uma sessão de conversa na URA. |
| `data_particao` | `unknown` | Data da partição da tabela, baseada na data de início da interação. |
| `data_processamento` | `unknown` | Data e hora em que o registro foi processado pelo dbt. Fuso horário America/Sao_Paulo. |




